<%= nested_form_for @customer, :html => { :class => "form-horizontal customer" } do |f| %>
<% if @customer.errors.any? %>
<div id="error_expl" class="panel panel-danger">
   <div class="panel-heading">
      <h3 class="panel-title"><%= pluralize(@customer.errors.count, "error") %> prohibited this customer from being saved:</h3>
   </div>
   <div class="panel-body">
      <ul>
         <% @customer.errors.full_messages.each do |msg| %>
         <li><%= msg %></li>
         <% end %>
      </ul>
   </div>
</div>
<% end %>
<div class="row">
   <div class="col-md-12">
      <div class="form-group col-md-3">
         <%= f.label :name, :class => 'control-label col-lg-3' %>
         <div class="col-lg-9">
            <%= f.text_field :name, :class => 'form-control' %>
         </div>
         <%=f.error_span(:name) %>
      </div>
      <div class="form-group col-md-3">
         <%= f.label :country, :class => 'control-label col-lg-3' %>
         <div class="col-lg-9">
            <%= f.text_field :country, :class => 'form-control' %>
         </div>
         <%=f.error_span(:country) %>
      </div>
      <div class="form-group col-md-3">
         <%= f.label :address, :class => 'control-label col-lg-3' %>
         <div class="col-lg-9">
            <%= f.text_field :address, :class => 'form-control' %>
         </div>
         <%=f.error_span(:address) %>
      </div>
      <div class="form-group col-md-3">
         <%= f.label :city, :class => 'control-label col-lg-3' %>
         <div class="col-lg-9">
            <%= f.text_field :city, :class => 'form-control' %>
         </div>
         <%=f.error_span(:city) %>
      </div>
   </div>
</div>
<hr>
<div class="row">
   <div class = "col-lg-12 col-md-offset-1">
      <div class="col-lg-10">
         <h3 class = "titulo" style = "margin :0px 0px 5px 0;">Contactos</h3>
      </div>
      <%= f.fields_for :contacts do |contact|  %>
      <div class="clearfix">
         <div class="col-md-12" >
            <div class="col-md-1 pdd" >
               <%= contact.link_to_remove do %>
               <i style = "      color: #e74b09;
                  font-size: 23px;
                  margin-left: 0px;
                  position: relative;
                  left: 50px;
                  top: 27px;;" class="fa fa-trash" aria-hidden="true"></i>
               <% end %>
            </div>
            <div class="col-md-2 pdd" >
               <%= contact.label "Nombre" %>
               <%= contact.text_field :name, :class => 'form-control' %>
            </div>
            <div class="col-md-2 pdd" >
               <%= contact.label "Celular" %>
               <%= contact.text_field :mobil, :class => 'form-control' %>
            </div>
            <div class="col-md-2 pdd" >
               <%= contact.label "Email" %>
               <%= contact.email_field :email, :class => 'form-control' %>
            </div>
            <div class="col-md-2 pdd" >
               <%= contact.label "Cargo" %>
               <%= contact.text_field :cargo, :class => 'form-control' %>
            </div>
            <%= contact.hidden_field :user_id ,:value =>  current_user.id %>
         </div>
      </div>
      <br>
      <%end%>
      <br>
      <br>
      <br>
      <%= f.link_to_add "Agregar Contacto", :contacts, :class => 'btn btn-primary'  %>
   </div>
</div>

<div class="form-group">
   <div class="col-lg-12 text-center">
      <%= f.submit nil, :class => 'btn btn-primary' %>
      <%= link_to t('.cancel', :default => t("helpers.links.cancel")),
         customers_path, :class => 'btn btn-default' %>
   </div>
</div>
<% end %>
<style>
   .remove_nested_fields:hover
   {
   background: white !important;
   }
</style>